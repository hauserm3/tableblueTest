var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},tables;!function(e){var t=function(t){function n(n){var r=this;t.call(this,n),this.model=e.AgentModel,this.url=n.url,this.params=n.params,this.fetch({data:this.params}),setInterval(function(){"d"==r.params.report?(r.params.report="w",$("#DailyWeekly").text("Weekly Report")):(r.params.report="d",$("#DailyWeekly").text("Daily Report")),r.fetch({data:r.params})},1e4)}return __extends(n,t),n.prototype.parse=function(e){return _.map(e.agents,function(e){e.non_prescriber=e["Non- prescriber"]}),e.agents},n}(Backbone.Collection);e.AgentsCollection=t;var n=function(t){function n(n){var r=this;t.call(this,n),this.container=$(n.container),this.setElement(this.container.find("tbody").first(),!0),e.RowView.template=_.template($(n.rowTempalete).html()),this.collection=n.collection,this.collection.bind("remove",function(e){},this),this.collection.bind("add",function(t){var n=new e.RowView({model:t,tagName:"tr"});r.$el.append(n.render().el)},this),this.render=function(){return this}}return __extends(n,t),n.prototype.render=function(){return this},n}(Backbone.View);e.TableView=n}(tables||(tables={})),$(document).ready(function(){console.log("ready");var e=new tables.AgentsCollection({url:"dayweek/bsd.php",params:{report:"d"}});new tables.TableView({container:"#AgentsList1",rowTempalete:"#row-template",collection:e})});